{"version":3,"sources":["jquery.bgswitcher.js"],"names":["$","BgSwitcher","el","this","$el","index","config","extend","defaultConfig","_setupBackgroundElement","_listenToResize","loadedImages","slice","Array","prototype","toString","Object","corners","backgroundProperties","fn","bgswitcher","args","arguments","instanceKey","keys","instance","each","data","dispatch","apply","bgSwitcher","one","call","setConfig","Error","random","shuffle","refresh","setImages","images","imageList","constructor","ImageList","setSwitchHandler","switchHandler","proxy","getBuiltInSwitchHandler","type","switchHandlers","effect","_prepareSwitching","start","_timerID","setTimeout","interval","stop","clearTimeout","toggle","reset","next","max","count","loop","switching","prev","select","started","_createSwitchableElement","$switchable","destroy","_stopListeningToResize","remove","$bg","removeAttr","removeData","_adjustRectangle","corner","i","length","offset","position","copiedStyles","top","left","width","innerWidth","height","innerHeight","css","document","createElement","zIndex","parseInt","overflow","_copyBackgroundStyles","tagName","prepend","before","clone","margin","border","appendTo","prop","copiedStyle","backgroundPosition","undefined","join","that","_resizeHandler","window","on","off","url","duration","easing","fade","animate","opacity","blind","clip","slide","drop","hide","defineEffect","name","createImagesBySequence","preload","isSequenceable","base","min","push","replace","path","Image","src","j","t","original","Math","floor","get","jQuery"],"mappings":"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","file":"jquery.bgswitcher-min.js","sourcesContent":["/*!\n * jQuery.BgSwitcher\n *\n * @version  0.4.3\n * @author   rewish <rewish.org@gmail.com>\n * @license  MIT License (https://github.com/rewish/jquery-bgswitcher/blob/master/LICENSE.md)\n * @link     https://github.com/rewish/jquery-bgswitcher\n */\n(function($) {\n  'use strict';\n\n  var loadedImages = {},\n\n      slice = Array.prototype.slice,\n      toString = Object.prototype.toString,\n\n      corners = ['Top', 'Right', 'Bottom', 'Left'],\n      backgroundProperties = [\n        'Attachment', 'Color', 'Image', 'Repeat',\n        'Position', 'Size', 'Clip', 'Origin'\n      ];\n\n  $.fn.bgswitcher = function() {\n    var args = arguments,\n        instanceKey = BgSwitcher.keys.instance;\n\n    return this.each(function() {\n      var instance = $.data(this, instanceKey);\n\n      if (!instance) {\n        instance = new BgSwitcher(this);\n        $.data(this, instanceKey, instance);\n      }\n\n      instance.dispatch.apply(instance, args);\n    });\n  };\n\n  // Backward Compatibility\n  $.fn.bgSwitcher = $.fn.bgswitcher;\n\n  /**\n   * BgSwitcher\n   *\n   * @param {HTMLElement} el\n   * @constructor\n   */\n  function BgSwitcher(el) {\n    this.$el = $(el);\n    this.index = 0;\n    this.config = $.extend({}, BgSwitcher.defaultConfig);\n\n    this._setupBackgroundElement();\n    this._listenToResize();\n  }\n\n  $.extend(BgSwitcher.prototype, {\n    /**\n     * Dispatch\n     *\n     * @param {string|Array} one\n     */\n    dispatch: function(one) {\n      switch (toString.call(one)) {\n        case '[object Object]':\n          this.setConfig(one);\n          break;\n        case '[object String]':\n          this[one].apply(this, slice.call(arguments, 1));\n          break;\n        default:\n          throw new Error('Please specify a Object or String');\n      }\n    },\n\n    /**\n     * Set config\n     *\n     * @param {Object} config\n     */\n    setConfig: function(config) {\n      this.config = $.extend(this.config, config);\n\n      if (typeof this.config.random !== 'undefined') {\n        this.config.shuffle = this.config.random;\n      }\n\n      this.refresh();\n    },\n\n    /**\n     * Set images\n     *\n     * @param {Array} images\n     */\n    setImages: function(images) {\n      this.imageList = new this.constructor.ImageList(images);\n\n      if (this.config.shuffle) {\n        this.imageList.shuffle();\n      }\n    },\n\n    /**\n     * Set switch handler\n     *\n     * @param {Function} fn\n     */\n    setSwitchHandler: function(fn) {\n      this.switchHandler = $.proxy(fn, this);\n    },\n\n    /**\n     * Default switch handler\n     *\n     * @param {string} type\n     * @returns {Function}\n     */\n    getBuiltInSwitchHandler: function(type) {\n      return this.constructor.switchHandlers[type || this.config.effect];\n    },\n\n    /**\n     * Refresh\n     */\n    refresh: function() {\n      this.setImages(this.config.images);\n      this.setSwitchHandler(this.getBuiltInSwitchHandler());\n      this._prepareSwitching();\n\n      if (this.config.start) {\n        this.start();\n      }\n    },\n\n    /**\n     * Start switching\n     */\n    start: function() {\n      if (!this._timerID) {\n        this._timerID = setTimeout($.proxy(this, 'next'), this.config.interval);\n      }\n    },\n\n    /**\n     * Stop switching\n     */\n    stop: function() {\n      if (this._timerID) {\n        clearTimeout(this._timerID);\n        this._timerID = null;\n      }\n    },\n\n    /**\n     * Toggle between start/stop\n     */\n    toggle: function() {\n      if (this._timerID) {\n        this.stop();\n      } else {\n        this.start();\n      }\n    },\n\n    /**\n     * Reset switching\n     */\n    reset: function() {\n      this.index = 0;\n      this._prepareSwitching();\n    },\n\n    /**\n     * Go to next switching\n     */\n    next: function() {\n      var max = this.imageList.count();\n\n      if (!this.config.loop && this.index + 1 === max) {\n        return;\n      }\n\n      if (++this.index === max) {\n        this.index = 0;\n      }\n\n      this.switching();\n    },\n\n    /**\n     * Go to previous switching\n     */\n    prev: function() {\n      if (!this.config.loop && this.index === 0) {\n        return;\n      }\n\n      if (--this.index === -1) {\n        this.index = this.imageList.count() - 1;\n      }\n\n      this.switching();\n    },\n\n    /**\n     * Select the switching at index\n     *\n     * @param {number} index\n     */\n    select: function(index) {\n      if (index === -1) {\n        index = this.imageList.count() - 1;\n      }\n\n      this.index = index;\n      this.switching();\n    },\n\n    /**\n     * Switching the background image\n     */\n    switching: function() {\n      var started = !!this._timerID;\n\n      if (started) {\n        this.stop();\n      }\n\n      this._createSwitchableElement();\n      this._prepareSwitching();\n      this.switchHandler(this.$switchable);\n\n      if (started) {\n        this.start();\n      }\n    },\n\n    /**\n     * Destroy...\n     */\n    destroy: function() {\n      this.stop();\n      this._stopListeningToResize();\n\n      if (this.$switchable) {\n        this.$switchable.stop();\n        this.$switchable.remove();\n        this.$switchable = null;\n      }\n\n      if (this.$bg) {\n        this.$bg.remove();\n        this.$bg = null;\n      }\n\n      this.$el.removeAttr('style');\n      this.$el.removeData(this.constructor.keys.instance);\n      this.$el = null;\n    },\n\n    /**\n     * Adjust rectangle\n     */\n    _adjustRectangle: function() {\n      var corner,\n          i = 0,\n          length = corners.length,\n          offset = this.$el.position(),\n          copiedStyles = {\n            top: offset.top,\n            left: offset.left,\n            width: this.$el.innerWidth(),\n            height: this.$el.innerHeight()\n          };\n\n      for (; i < length; i++) {\n        corner = corners[i];\n        copiedStyles['margin' + corner] = this.$el.css('margin' + corner);\n        copiedStyles['border' + corner] = this.$el.css('border' + corner);\n      }\n\n      this.$bg.css(copiedStyles);\n    },\n\n    /**\n     * Setup background element\n     */\n    _setupBackgroundElement: function() {\n      this.$bg = $(document.createElement('div'));\n      this.$bg.css({\n        position: 'absolute',\n        zIndex: (parseInt(this.$el.css('zIndex'), 10) || 0) - 1,\n        overflow: 'hidden'\n      });\n\n      this._copyBackgroundStyles();\n      this._adjustRectangle();\n\n      if (this.$el[0].tagName === 'BODY') {\n        this.$el.prepend(this.$bg);\n      } else {\n        this.$el.before(this.$bg);\n        this.$el.css('background', 'none');\n      }\n    },\n\n    /**\n     * Create switchable element\n     */\n    _createSwitchableElement: function() {\n      if (this.$switchable) {\n        this.$switchable.remove();\n      }\n\n      this.$switchable = this.$bg.clone();\n      this.$switchable.css({top: 0, left: 0, margin: 0, border: 'none'});\n      this.$switchable.appendTo(this.$bg);\n    },\n\n    /**\n     * Copy background styles\n     */\n    _copyBackgroundStyles: function () {\n      var prop,\n          copiedStyle = {},\n          i = 0,\n          length = backgroundProperties.length,\n          backgroundPosition = 'backgroundPosition';\n\n      for (; i < length; i++) {\n        prop = 'background' + backgroundProperties[i];\n        copiedStyle[prop] = this.$el.css(prop);\n      }\n\n      // For IE<=9\n      if (copiedStyle[backgroundPosition] === undefined) {\n        copiedStyle[backgroundPosition] = [\n          this.$el.css(backgroundPosition + 'X'),\n          this.$el.css(backgroundPosition + 'Y')\n        ].join(' ');\n      }\n\n      this.$bg.css(copiedStyle);\n    },\n\n    /**\n     * Listen to the resize event\n     */\n    _listenToResize: function() {\n      var that = this;\n      this._resizeHandler = function() {\n        that._adjustRectangle();\n      };\n      $(window).on('resize', this._resizeHandler);\n    },\n\n    /**\n     * Stop listening to the resize event\n     */\n    _stopListeningToResize: function() {\n      $(window).off('resize', this._resizeHandler);\n      this._resizeHandler = null;\n    },\n\n    /**\n     * Prepare the Switching\n     */\n    _prepareSwitching: function() {\n      this.$bg.css('backgroundImage', this.imageList.url(this.index));\n    }\n  });\n\n  /**\n   * Data Keys\n   * @type {Object}\n   */\n  BgSwitcher.keys = {\n    instance: 'bgSwitcher'\n  };\n\n  /**\n   * Default Config\n   * @type {Object}\n   */\n  BgSwitcher.defaultConfig = {\n    images: [],\n    interval: 10000,\n    start: true,\n    loop: true,\n    shuffle: false,\n    effect: 'fade',\n    duration: 1000,\n    easing: 'swing'\n  };\n\n  /**\n   * Built-In switch handlers (effects)\n   * @type {Object}\n   */\n  BgSwitcher.switchHandlers = {\n    fade: function($el) {\n      $el.animate({opacity: 0}, this.config.duration, this.config.easing);\n    },\n\n    blind: function($el) {\n      $el.animate({height: 0}, this.config.duration, this.config.easing);\n    },\n\n    clip: function($el) {\n      $el.animate({\n        top: parseInt($el.css('top'), 10) + $el.height() / 2,\n        height: 0\n      }, this.config.duration, this.config.easing);\n    },\n\n    slide: function($el) {\n      $el.animate({top: -$el.height()}, this.config.duration, this.config.easing);\n    },\n\n    drop: function($el) {\n      $el.animate({\n        left: -$el.width(),\n        // opacity: 0\n      }, this.config.duration, this.config.easing);\n    },\n\n    hide: function($el) {\n      $el.hide();\n    }\n  };\n\n  /**\n   * Define effect\n   *\n   * @param {String} name\n   * @param {Function} fn\n   */\n  BgSwitcher.defineEffect = function(name, fn) {\n    this.switchHandlers[name] = fn;\n  };\n\n  /**\n   * BgSwitcher.ImageList\n   *\n   * @param {Array} images\n   * @constructor\n   */\n  BgSwitcher.ImageList = function(images) {\n    this.images = images;\n    this.createImagesBySequence();\n    this.preload();\n  };\n\n  $.extend(BgSwitcher.ImageList.prototype, {\n    /**\n     * Images is sequenceable\n     *\n     * @returns {boolean}\n     */\n    isSequenceable: function() {\n      return typeof this.images[0] === 'string' &&\n          typeof this.images[1] === 'number' &&\n          typeof this.images[2] === 'number';\n    },\n\n    /**\n     * Create an images by sequence\n     */\n    createImagesBySequence: function() {\n      if (!this.isSequenceable()) {\n        return;\n      }\n\n      var images = [],\n          base = this.images[0],\n          min = this.images[1],\n          max = this.images[2];\n\n      do {\n        images.push(base.replace(/\\.\\w+$/, min + '$&'));\n      } while (++min <= max);\n\n      this.images = images;\n    },\n\n    /**\n     * Preload an images\n     */\n    preload: function() {\n      var path,\n          length = this.images.length,\n          i = 0;\n\n      for (; i < length; i++) {\n        path = this.images[i];\n        if (!loadedImages[path]) {\n          loadedImages[path] = new Image();\n          loadedImages[path].src = path;\n        }\n      }\n    },\n\n    /**\n     * Shuffle an images\n     */\n    shuffle: function() {\n      var j, t,\n          i = this.images.length,\n          original = this.images.join();\n\n      if (!i) {\n        return;\n      }\n\n      while (i) {\n        j = Math.floor(Math.random() * i);\n        t = this.images[--i];\n        this.images[i] = this.images[j];\n        this.images[j] = t;\n      }\n\n      if (this.images.join() === original) {\n        this.shuffle();\n      }\n    },\n\n    /**\n     * Get the image from index\n     *\n     * @param {number} index\n     * @returns {string}\n     */\n    get: function(index) {\n      return this.images[index];\n    },\n\n    /**\n     * Get the URL with function of CSS\n     *\n     * @param {number} index\n     * @returns {string}\n     */\n    url: function(index) {\n      return 'url(' + this.get(index) + ')';\n    },\n\n    /**\n     * Count of images\n     *\n     * @returns {number}\n     */\n    count: function() {\n      return this.images.length;\n    }\n  });\n\n  $.BgSwitcher = BgSwitcher;\n}(jQuery));\n"]}