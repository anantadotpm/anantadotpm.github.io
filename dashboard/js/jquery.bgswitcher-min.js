"use strict";/*!
 * jQuery.BgSwitcher
 *
 * @version  0.4.3
 * @author   rewish <rewish.org@gmail.com>
 * @license  MIT License (https://github.com/rewish/jquery-bgswitcher/blob/master/LICENSE.md)
 * @link     https://github.com/rewish/jquery-bgswitcher
 */
!function($){function t(i){this.$el=$(i),this.index=0,this.config=$.extend({},t.defaultConfig),this._setupBackgroundElement(),this._listenToResize()}var i={},e=Array.prototype.slice,s=Object.prototype.toString,n=["Top","Right","Bottom","Left"],h=["Attachment","Color","Image","Repeat","Position","Size","Clip","Origin"];$.fn.bgswitcher=function(){var i=arguments,e=t.keys.instance;return this.each(function(){var s=$.data(this,e);s||(s=new t(this),$.data(this,e,s)),s.dispatch.apply(s,i)})},$.fn.bgSwitcher=$.fn.bgswitcher,$.extend(t.prototype,{dispatch:function t(i){switch(s.call(i)){case"[object Object]":this.setConfig(i);break;case"[object String]":this[i].apply(this,e.call(arguments,1));break;default:throw new Error("Please specify a Object or String")}},setConfig:function t(i){this.config=$.extend(this.config,i),void 0!==this.config.random&&(this.config.shuffle=this.config.random),this.refresh()},setImages:function t(i){this.imageList=new this.constructor.ImageList(i),this.config.shuffle&&this.imageList.shuffle()},setSwitchHandler:function t(i){this.switchHandler=$.proxy(i,this)},getBuiltInSwitchHandler:function t(i){return this.constructor.switchHandlers[i||this.config.effect]},refresh:function t(){this.setImages(this.config.images),this.setSwitchHandler(this.getBuiltInSwitchHandler()),this._prepareSwitching(),this.config.start&&this.start()},start:function t(){this._timerID||(this._timerID=setTimeout($.proxy(this,"next"),this.config.interval))},stop:function t(){this._timerID&&(clearTimeout(this._timerID),this._timerID=null)},toggle:function t(){this._timerID?this.stop():this.start()},reset:function t(){this.index=0,this._prepareSwitching()},next:function t(){var i=this.imageList.count();(this.config.loop||this.index+1!==i)&&(++this.index===i&&(this.index=0),this.switching())},prev:function t(){(this.config.loop||0!==this.index)&&(-1==--this.index&&(this.index=this.imageList.count()-1),this.switching())},select:function t(i){-1===i&&(i=this.imageList.count()-1),this.index=i,this.switching()},switching:function t(){var i=!!this._timerID;i&&this.stop(),this._createSwitchableElement(),this._prepareSwitching(),this.switchHandler(this.$switchable),i&&this.start()},destroy:function t(){this.stop(),this._stopListeningToResize(),this.$switchable&&(this.$switchable.stop(),this.$switchable.remove(),this.$switchable=null),this.$bg&&(this.$bg.remove(),this.$bg=null),this.$el.removeAttr("style"),this.$el.removeData(this.constructor.keys.instance),this.$el=null},_adjustRectangle:function t(){for(var i,e=0,s=n.length,h=this.$el.position(),o={top:h.top,left:h.left,width:this.$el.innerWidth(),height:this.$el.innerHeight()};e<s;e++)i=n[e],o["margin"+i]=this.$el.css("margin"+i),o["border"+i]=this.$el.css("border"+i);this.$bg.css(o)},_setupBackgroundElement:function t(){this.$bg=$(document.createElement("div")),this.$bg.css({position:"absolute",zIndex:(parseInt(this.$el.css("zIndex"),10)||0)-1,overflow:"hidden"}),this._copyBackgroundStyles(),this._adjustRectangle(),"BODY"===this.$el[0].tagName?this.$el.prepend(this.$bg):(this.$el.before(this.$bg),this.$el.css("background","none"))},_createSwitchableElement:function t(){this.$switchable&&this.$switchable.remove(),this.$switchable=this.$bg.clone(),this.$switchable.css({top:0,left:0,margin:0,border:"none"}),this.$switchable.appendTo(this.$bg)},_copyBackgroundStyles:function t(){for(var i,e={},s=0,n=h.length,o="backgroundPosition";s<n;s++)i="background"+h[s],e[i]=this.$el.css(i);void 0===e[o]&&(e[o]=[this.$el.css("backgroundPositionX"),this.$el.css("backgroundPositionY")].join(" ")),this.$bg.css(e)},_listenToResize:function t(){var i=this;this._resizeHandler=function(){i._adjustRectangle()},$(window).on("resize",this._resizeHandler)},_stopListeningToResize:function t(){$(window).off("resize",this._resizeHandler),this._resizeHandler=null},_prepareSwitching:function t(){this.$bg.css("backgroundImage",this.imageList.url(this.index))}}),t.keys={instance:"bgSwitcher"},t.defaultConfig={images:[],interval:1e4,start:!0,loop:!0,shuffle:!1,effect:"fade",duration:1e3,easing:"swing"},t.switchHandlers={fade:function t(i){i.animate({opacity:0},this.config.duration,this.config.easing)},blind:function t(i){i.animate({height:0},this.config.duration,this.config.easing)},clip:function t(i){i.animate({top:parseInt(i.css("top"),10)+i.height()/2,height:0},this.config.duration,this.config.easing)},slide:function t(i){i.animate({top:-i.height()},this.config.duration,this.config.easing)},drop:function t(i){i.animate({left:-i.width()},this.config.duration,this.config.easing)},hide:function t(i){i.hide()}},t.defineEffect=function(t,i){this.switchHandlers[t]=i},t.ImageList=function(t){this.images=t,this.createImagesBySequence(),this.preload()},$.extend(t.ImageList.prototype,{isSequenceable:function t(){return"string"==typeof this.images[0]&&"number"==typeof this.images[1]&&"number"==typeof this.images[2]},createImagesBySequence:function t(){if(this.isSequenceable()){var i=[],e=this.images[0],s=this.images[1],n=this.images[2];do{i.push(e.replace(/\.\w+$/,s+"$&"))}while(++s<=n);this.images=i}},preload:function t(){for(var e,s=this.images.length,n=0;n<s;n++)e=this.images[n],i[e]||(i[e]=new Image,i[e].src=e)},shuffle:function t(){var i,e,s=this.images.length,n=this.images.join();if(s){for(;s;)i=Math.floor(Math.random()*s),e=this.images[--s],this.images[s]=this.images[i],this.images[i]=e;this.images.join()===n&&this.shuffle()}},get:function t(i){return this.images[i]},url:function t(i){return"url("+this.get(i)+")"},count:function t(){return this.images.length}}),$.BgSwitcher=t}(jQuery);
//# sourceMappingURL=./jquery.bgswitcher-min.js.map